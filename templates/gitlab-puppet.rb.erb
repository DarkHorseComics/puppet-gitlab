<% if @redis_port       -%> redis['port'] = <%= @redis_port %>             <% end %>
<% if @postgresql_port  -%> posgresql['port'] = <%= @postgresql_port %>     <% end %>
<% if @unicorn_port     -%> unicorn_port['port'] = <%= @unicorn_port %>     <% end %>

<% if @git_data_dir     -%> git_data_dir = <%= @git_data_dir  %>              <% end %>
<% if @gitlab_username  -%> user['username'] = <%= @gitlab_username  %>     <% end %>
<% if @gitlab_group     -%> user['group'] = <%= @gitlab_group  %>           <% end %>

<% if @ldap_enabled == true -%>
gitlab_rails['ldap_enabled'] = <%= @ldap_enabled %>
gitlab_rails['ldap_host'] = <%= @ldap_host %>
gitlab_rails['ldap_port'] = <%= @ldap_port %>
gitlab_rails['ldap_uid'] = <%= @ldap_uid %>
gitlab_rails['ldap_method'] = <%= @ldap_method %>
gitlab_rails['ldap_bind_dn'] = <%= @ldap_bind_dn %>
gitlab_rails['ldap_password'] = <%= @ldap_password %>
gitlab_rails['ldap_allow_username_or_email_login'] = <%= @ldap_allow_username_or_email_login %>
gitlab_rails['ldap_base'] = <%= @ldap_base %>
<% end -%>
<% if @ldap_enabled ==true and @gitlab_release == 'enterprise' %>
gitlab_rails['ldap_group_base'] = <%= @ldap_group_base %>
gitlab_rails['ldap_user_filter'] = <%= @ldap_user_filter %>
<% end -%>

<% if @redirect_http_to_https == true %>
nginx['redirect_http_to_https'] = <%= @redirect_http_to_https %>
nginx['ssl_certificate'] = <%= @ssl_certificate %> 
nginx['ssl_certificate_key'] = <%= @ssl_certificate_key %>
<% end -%>

<% if @git_uid -%>
user['uid'] = <%= @git_uid -%>
<% end -%>

<% if @git_gid -%>
user['gid'] = <%= git_gid -%>
<% end -%>

<% if @gitlab_psql_uid -%>
postgresql['uid'] = <%= @gitlab_psql_uid -%>
<% end -%>

<% if @gitlab_psql_gid -%>
postgresql['gid'] = <%= @gitlab_psql_gid -%>
<% end -%>

<% if @gitlab_redis_uid -%>
redis['uid'] = <%= @gitlab_redis_uid -%>
<% end -%>

<% if @gitlab_redis_gid -%>
redis['gid'] = <%= @gitlab_redis_gid -%>
<% end -%>

<% if @aws_enable == true %>
gitlab_rails['aws_enable'] = <%= @aws_enable %>
gitlab_rails['aws_access_key_id'] = <%= @aws_access_key_id %>
gitlab_rails['aws_secret_access_key'] = <%= @aws_secret_access_key %>
gitlab_rails['aws_bucket'] = <%= @aws_bucket %>
gitlab_rails['aws_region'] = <%= @aws_region %>
<% end -%>

<% if @smtp_enable == true %>
gitlab_rails['smtp_enable'] = <%= @smtp_enable %>
gitlab_rails['smtp_address'] = <%= @smtp_address %>
gitlab_rails['smtp_port'] = <%= @smtp_port %>
gitlab_rails['smtp_user_name'] = <%= @smtp_user_name %>
gitlab_rails['smtp_password'] = <%= @smtp_password %>
gitlab_rails['smtp_domain'] = <%= @smtp_domain %>
gitlab_rails['smtp_authentication'] = <%= @smtp_authentication %>
gitlab_rails['smtp_enable_starttls_auto'] = <%= @smtp_enable_starttls_auto %>
<% end -%>

<% if @omniauth_enabled == true %>
gitlab_rails['omniauth_enabled'] = <%= @omniauth_enabled %>
gitlab_rails['omniauth_providers'] = <%= @omniauth_providers %>
<% end -%>

logging['svlogd_size'] = <%= @svlogd_size %>
logging['svlogd_num'] =  <%= @svlogd_num %>
logging['svlogd_timeout'] =  <%= @svlogd_timeout %>
logging['svlogd_filter'] =  <%= @svlogd_filter %>
logging['svlogd_udp'] =  <%= @svlogd_udp %>
logging['svlogd_prefix'] =  <%= @svlogd_prefix %>