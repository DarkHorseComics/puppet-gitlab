{
  "name": "spuder-gitlab",
  "version": "0.3.1",
  "summary": "Puppet GitLab Module",
  "author": "spencer owen",
  "description": "gitlab\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n\n\nSource - https://github.com/spuder/puppet-gitlab  \nIssues - https://github.com/spuder/puppet-gitlab/issues   \nForge  - https://forge.puppetlabs.com/spuder/gitlab  \n\n\n\n####Table of Contents\n\n1. [Overview](#overview)\n2. [Module Description - What the module does and why it is useful](#module-description)\n3. [Setup - The basics of getting started with [Modulename]](#setup)\n    * [What [Modulename] affects](#what-[modulename]-affects)\n    * [Setup requirements](#setup-requirements)\n    * [Beginning with gitlab](#beginning-with-gitlab)\n4. [Usage - Configuration options and additional functionality](#usage)\n5. [Reference - An under-the-hood peek at what the module is doing and how](#reference)\n5. [Limitations - OS compatibility, etc.](#limitations)\n6. [Development - Guide for contributing to the module](#development)\n\n##Overview\n\nThe gitlab module installs a fully self contained gitlab server on an ubuntu server\n\nTested :  \nGitlab 6-0-stable on Ubuntu 12.04  \nGitlab 6-1-stable on Ubuntu 12.04  \n\n \n\n##Module Description\n\nThis puppet module accomplishes the gitlab 6 installtion tasks outlined in the install.md \nhttps://github.com/gitlabhq/gitlabhq/blob/6-1-stable/doc/install/installation.md?source\u003dcc\n\n\n\n\n\n##Setup\n\n###What gitlab affects\n\nThe module installs the following programs:\n\ninstalls ruby 2.0 (from saucy ppa\u0027s)  \nnginx server  \npostfix server  \nmysql server  \n\nThe module configures the following files:  \n\n/home/git/gitlab/config/gitlab.yml  \n/home/git/gitlab/config/database.yml  \n/home/git/gitlab/config/unicorn.rb  \n/home/git/gitlab-shell/config.yml  \n/etc/init.d/gitlab  \n/etc/ngnix/sites-available/gitlab  \n/etc/nginx/sites-enabled/gitlab  \n\n###Setup Requirements **OPTIONAL**\n\nThis module requires the following programs\n\n- puppet \u003e\u003d 3.3.0  \n- ruby   \u003e\u003d 2.0 (installed automatically)  \n\n\nspuder-gitlab requires the following modules, they will be installed automatically  \n\n- puppetlabs-apt  \n- puppetlabs-mysql \u003e\u003d 2.0.0  \n- jfryman-nginx  \n- maestrodev/wget  \n\n\nThe following programs will be installed\n\n- git  \t\t\u003e\u003d1.7.10  \n- ruby \t\t\u003e\u003d2.0.0  \n- bundler  \n- mysql2  \n- ruby2.0  \n- charlock_holmes  \n- mysqlserver  \n- mysqlclient  \n- ngnix  \n- postfix  \n\n\nYou can safely ignore the following warnings that are presented durring installation\nCertain versions of puppet return these errors even though the packages were installed properly\n\n    Warning: Failed to match dpkg-query line \"No packages found matching mysql-client.\\n\"  \n    Warning: Failed to match dpkg-query line \"No packages found matching mysql-server.\\n\"  \n    Warning: Failed to match dpkg-query line \"No packages found matching libxslt1-dev.\\n\"  \n    Warning: Failed to match dpkg-query line \"No packages found matching python-docutils.\\n\"  \n    Warning: Failed to match dpkg-query line \"No packages found matching libicu-dev.\\n\"  \n    Warning: Failed to match dpkg-query line \"No packages found matching git-core.\\n\"  \nhttp://projects.puppetlabs.com/issues/22621  \n\n\n**The install process may take a long time, and may appear to be stuck at the following line for about 800 seconds:**   \n    Debug: Executing \u0027/usr/bin/yes yes | bundle exec rake gitlab:setup RAILS_ENV\u003dproduction\u0027\n\n\n--------------------------------------------------------------------------------------\n\n\t \n##Usage\n\n\n###Beginning with gitlab\n\n####Database\nTo use the module, you must have mysql::server installed and configured with a user. \nIt is recomeded that this be setup in your site.pp file, hiera or another ENC.\n\n\nIf you are using puppet stand alone, the following would setup mysql\n\n    root$ import module puppetlabs-mysql\n\n    root$ cat /tmp/gitlab-mysql-prerequisits.pp  \n      class { \u0027::mysql::server\u0027:  \n        root_password \u003d\u003e \u0027somesuperlongpasswordwithentropy\u0027 }  \n        remove_default_accounts \u003d\u003e true,\n  \t\trestart                 \u003d\u003e true,\n      }  \n\nThen apply the config like so  \n\n    puppet apply /tmp/gitlab-mysql-prerequisits.pp  --debug\n    \n\n#####Gitlab class parameters\nAfter the mysql root user has been steup, call the gitlab class with the desired parameters. \nAny parameters omitted will be set to the defautls located in gitlab::params\n\nFor example, a basic configuraiton might look like this: \n\n      class { \u0027gitlab\u0027 : \n\t      git_email              \u003d\u003e \u0027git@foo.com\u0027,\n\t      git_comment            \u003d\u003e \u0027GitLab\u0027,\n\t      gitlab_branch          \u003d\u003e \u00276-1-stable\u0027,\n\t      gitlabshell_branch     \u003d\u003e \u0027v1.7.1\u0027,\n\t      gitlab_dbname          \u003d\u003e \u0027gitlabdb\u0027,\n\t      gitlab_dbuser          \u003d\u003e \u0027gitlabdbu\u0027,\n\t      gitlab_dbpwd           \u003d\u003e \u0027changeme\u0027,\n\t      gitlab_projects        \u003d\u003e \u002710\u0027,\n\t      gitlab_username_change \u003d\u003e true,\n\t  }\n\t  \n**Look at tests/init.pp for an example of what class parameters to use**\n\n\n##Customization\n\n####Login Page  \n\nThe login page and the icon in the top left of the profile page can be customized. \n\nAn example to change the landing page icon  \n\n      class { \u0027gitlab\u0027 : \n          .... \n          use_custom_login_logo  \u003d\u003e true,\n          company_logo_url       \u003d\u003e \u0027http://placekitten.com/300/93\u0027,\n          use_company_link\t     \u003d\u003e  true,\n          company_link           \u003d\u003e \u0027http://icanhas.cheezburger.com\u0027,\n        }  \n        \n\n        \n        \n![logo](http://f.cl.ly/items/401M3R213a2H1Z220O07/Image%202013.10.10%2010%3A05%3A33%20AM.png)\n\n--------------------------------------------------------------------------------------\n\n###Thumbnail Icon\n\nTo change the thumbnail icon, place two .png files with the following names, into the following folder\n \n/home/git/company-logo-white.png  \n/home/git/company-logo-black.png     \n\ncompany-logo-white.png will be used against the dark background themes  \ncompany-logo-black.png will be used against the light background themes \n\n\n    class { \u0027gitlab\u0027 :\n        use_custom_thumbnail  \u003d\u003e true,\n    }\n\n![thumbnail](http://f.cl.ly/items/2l2L1t1u3X0n0s350Y1I/Image%202013.10.10%2010%3A31%3A54%20AM.png)\n\t  \n*The logo should be about 80px by 80px in size*  \n*The logo should be saved as a .png* \n\n**You will need to restart the gitlab server, and clear your browsers cache before**\n**the changes will be applied**\n\n\n###LDAP / AD \n\nAn example to integrate with Active Directory\n\n    class { \u0027gitlab\u0027 : \n        ......\n        ldap_enabled           \u003d\u003e true,\n        ldap_host              \u003d\u003e \u0027DC1.microsoft.com\u0027,\n        ldap_base              \u003d\u003e \u0027DC\u003dmicrosoft,DC\u003dcom\u0027,\n        ldap_port              \u003d\u003e \u0027636\u0027,\n        ldap_uid               \u003d\u003e \u0027sAMAccountName\u0027,      #LDAP \u003d \u0027uid\u0027, AD \u003d \u0027sAMAccountName\u0027\n        ldap_method            \u003d\u003e \u0027ssl\u0027,                 #either ssl or plain\n        ldap_bind_dn           \u003d\u003e \u0027CN\u003dfoo,CN\u003dusers,DC\u003dmicrosoft,DC\u003dcom\u0027,  \n        ldap_bind_password     \u003d\u003e \u0027bar\u0027,\n    }\n    \n**Users must have email addresses defined in AD to be able to login to gitlab!**\n\n\n### HTTPS (SSL)\n\nSimple example with no encryption (not recommended)  \n   \n    class { \u0027gitlab\u0027 :\n    ....\n      $gitlab_ssl             \u003d false\n    }\n\nSimple example with SSL and Self Signed Cert (not recommended for production)  \nNgnix will use the certificate and key located in :   \n\n  certificate \u003d /etc/ssl/certs/ssl-cert-snakeoil.pem  \n  private key \u003d /etc/ssl/private/ssl-cert-snakeoil.key  \n  \n    class { \u0027gitlab\u0027 :\n    ....\n      $gitlab_ssl             \u003d true\n      $gitlab_ssl_self_signed \u003d true\n    }\n    \nSimple example with Certificate Authority signed Cert (Recommended)   \nYou will need to place your .pem file and your private key in a location accessible to nxinx\n \n    class { \u0027gitlab\u0027 : \n       $gitlab_ssl             \u003d false\n        $gitlab_ssl_cert        \u003d \u0027/home/git/foo/bar.pem\u0027\n        $gitlab_ssl_key         \u003d \u0027/home/git/foo/bar.key\u0027\n        $gitlab_ssl_self_signed \u003d false\n    }\n  \n\t  \n##Reference\n\nAll of the parameters that can be set\n\n\n  \n      #Gitlab server settings\n    $gitlab_branch         \n    $gitlabshell_branch     \n    $git_user               \n    $git_home               \n    $git_email              \n    $git_comment            \n    $gitlab_sources         \n    $gitlabshell_sources    \n    \n      #Database\n    $gitlab_dbtype          \n    $gitlab_dbname          \n    $gitlab_dbuser         \n    $gitlab_dbpwd           \n    $gitlab_dbhost         \n    $gitlab_dbport          \n    $gitlab_domain         \n    $gitlab_repodir        \n    \n      #Web \u0026 Security\n    $gitlab_ssl             \n    $gitlab_ssl_cert        \n    $gitlab_ssl_key         \n    $gitlab_ssl_self_signed \n    \n      #LDAP\n    $ldap_enabled           \n    $ldap_host              \n    $ldap_base           \n    $ldap_uid              \n    $ldap_port          \n    $ldap_method         \n    $ldap_bind_dn           \n    $ldap_bind_password     \n    \n      #Company Branding\n    $use_custom_login_logo \n    $company_logo_url       \n    $use_custom_thumbnail  \n    \n    #User default settings\n    $gitlab_gravatar        \n    $user_create_group      \n    $user_create_team       \n    $user_changename        \n    \n      #Project default features\n    $project_issues         \n    $project_merge_request  \n    $project_wiki           \n    $project_wall           \n    $project_snippets       \n    $gitlab_projects \n    $project_public_default     \n\n\t  \n\t  \n##Limitations\n\nDesigned and tested for Ubuntu 12.04  \nShould work on Ubuntu 14.04  \nMay work on Debian 7  \nWill not work on CentOS / RHEL  \n\n\n###Support\nThis module is provided \u0027as is\u0027 with no guarantee of quality.  \n\nIssues and pull requests should be reported to the Github issues page\nhttps://github.com/spuder/puppet-gitlab/issues \n\n\n\n\n##Development\n\nPull Requests are accepted: **Please send requests to dev branch**\n\nThis module is patterned after the nextGen standard purposed by example42  \nhttp://www.example42.com/?q\u003dNextGen  \n  \nReadme is patterned after the puppet markdown template here  \nhttp://docs.puppetlabs.com/puppet/2.7/reference/READMEtemplate.markdown   \n\n\n##Release Notes/Contributors/Etc \n\nThis module is based on the work done by the following people:  \n\nsbadia - https://github.com/sbadia/puppet-gitlab  \natomaka - https://github.com/atomaka/puppet-gitlab  \n\n##Changelog\n2013-Oct-3: 0.1.0 First Release, fully tested  \n2013-Oct-5: 0.2.0 Removes ruby repo from files, and instead downloads from web  \n2013-Oct-5: 0.2.1 Adds module dependencies   \n2013-Oct-7: 0.2.2 Fixes puppetlabs-mysql api change https://github.com/spuder/puppet-gitlab/issues/1  \n2013-Oct-9: 0.2.3 Changes puppetlabs-apt dependency from 1.3.0 to 1.0.0   \n2013-Oct-9: 0.2.4 Fixes backup issue when replacing thumbnail icons https://github.com/spuder/puppet-gitlab/issues/8   \n2013-Oct-10: 0.2.5 Fixes thumbnail issue  \n2013-Oct-10: 0.3.0 Adds HTTPS Support, Updates Readme with links\n2013-Oct-18: 0.3.1 Fixes issue where the thumbnail icon would be overwritten https://github.com/spuder/puppet-gitlab/issues/14",
  "dependencies": [
    {
      "name": "puppetlabs/apt",
      "version_requirement": "\u003e\u003d1.0.0"
    },
    {
      "name": "puppetlabs/mysql",
      "version_requirement": "\u003e\u003d2.0.0"
    },
    {
      "name": "jfryman/nginx",
      "version_requirement": "\u003e\u003d0.0.5"
    },
    {
      "name": "maestrodev/wget",
      "version_requirement": "\u003e\u003d1.2.2"
    },
    {
      "name": "puppetlabs/stdlib",
      "version_requirement": "\u003e\u003d4.0.0"
    },
    {
      "name": "example42/postfix",
      "version_requirement": "\u003e\u003d2.0.9"
    }
  ],
  "types": [],
  "checksums": {},
  "source": "https://github.com/spuder/puppet-gitlab",
  "project_page": "https://github.com/spuder/puppet-gitlab/blob/master/README.md",
  "license": "GPLv3"
}