{
  "name": "spuder-gitlab",
  "version": "1.1.2",
  "summary": "Puppet GitLab Module",
  "author": "spencer owen",
  "description": "gitlab\n\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\n\n\nSource - https://github.com/spuder/puppet-gitlab  \nIssues - https://github.com/spuder/puppet-gitlab/issues   \nForge  - https://forge.puppetlabs.com/spuder/gitlab  \nUpgrade  - https://github.com/spuder/puppet-gitlab/blob/master/upgrade-checklist  \nInstall Video - http://spuder.wordpress.com/2013/10/30/install-gitlab-with-puppet/\n\n\n\n####Table of Contents\n\n1. [Overview](#overview)\n2. [Setup - The basics of getting started with [Modulename]](#setup)\n    * [What [Modulename] affects](#what-[modulename]-affects)\n    * [Setup requirements](#setup-requirements)\n    * [Beginning with gitlab](#beginning-with-gitlab)\n3. [Usage - Configuration options and additional functionalityy](#usage)\n4. [Reference - An under-the-hood peek at what the module is doing and how](#reference)\n5. [Limitations - OS compatibility, etc.](#limitations)\n\n##Overview\n\nInstalls Gitlab 6 on Ubuntu\n\nSupported Versions :  \nGitlab 6-0-stable on Ubuntu 12.04  \nGitlab 6-1-stable on Ubuntu 12.04  \nGitlab 6-2-stable on Ubuntu 12.04   \n\nSee https://github.com/gitlabhq/gitlabhq/blob/6-1-stable/doc/install/installation.md?source\u003dcc\n\n\n##Setup\n\n\nThe module configures the following files:  \n\n/home/git/gitlab/config/gitlab.yml  \n/home/git/gitlab/config/database.yml  \n/home/git/gitlab/config/unicorn.rb  \n/home/git/gitlab-shell/config.yml  \n/etc/init.d/gitlab  \n/etc/ngnix/sites-available/gitlab  \n/etc/nginx/sites-enabled/gitlab  \n\n###Setup Requirements\n\nThis module requires the following programs\n\n- puppet \u003e\u003d 3.0.0  \n\nThis module requires the following modules  \n\n- puppetlabs-apt  \n- puppetlabs-mysql \u003e\u003d 2.0.0  \n- jfryman-nginx  \n\n\nThe following programs will be installed\n\n- git  \t\t\u003e\u003d1.7.10  \n- ruby \t\t\u003e\u003d1.9.x  \n- bundler  \n- mysql2   \n- charlock_holmes  \n- mysqlserver  \n- mysqlclient  \n- ngnix  \t\u003e\u003d0.8.21\n- postfix  \n\n\n\n--------------------------------------------------------------------------------------\n\n\t \n##Usage\n\n\n###Beginning with gitlab\n\n####Database\nTo use the module, you must have mysql::server installed and configured with a user. \nIt is recommended that this be setup in your site.pp file, hiera or another ENC.\n\n\nThe following would setup mysql, and remove insecure test schema\n\n    root$ import module puppetlabs-mysql\n\n    root$ cat /tmp/gitlab-mysql-prerequisits.pp  \n      class { \u0027::mysql::server\u0027:  \n        root_password \u003d\u003e \u0027somesuperlongpasswordwithentropy\u0027 }  \n        remove_default_accounts \u003d\u003e true,\n  \t\trestart                 \u003d\u003e true,\n      }  \n\nThen apply the config like so  \n\n    puppet apply /tmp/gitlab-mysql-prerequisits.pp  --debug\n    \n\n#####Gitlab class parameters\nAfter the mysql root user has been steup, call the gitlab class with the desired parameters. \nAny parameters omitted will be set to the defaults located in gitlab::params\n\nFor example, a basic configuration might look like this: \n\n      class { \u0027gitlab\u0027 : \n\t      git_email              \u003d\u003e \u0027git@foo.com\u0027,\n\t      gitlab_branch          \u003d\u003e \u00276-2-stable\u0027,\n\t      gitlab_dbname          \u003d\u003e \u0027gitlabdb\u0027,\n\t      gitlab_dbuser          \u003d\u003e \u0027gitlabdbu\u0027,\n\t      gitlab_dbpwd           \u003d\u003e \u0027changeme\u0027,\n\t      gitlab_projects        \u003d\u003e \u002710\u0027,\n\t      gitlab_username_change \u003d\u003e true,\n\t  }\n\t  \n**Look at tests/init.pp for an example of what class parameters to use**\n\n**The install process may take a long time, and may appear to be stuck at the following line for about 800 seconds:**   \n    Debug: Executing \u0027/usr/bin/yes yes | bundle exec rake gitlab:setup RAILS_ENV\u003dproduction\u0027\n\n\n##Customization\n\n####Login Page  \n\nThe login page and the icon in the top left of the profile page can be customized. \n\nAn example to change the landing page icon  \n\n      class { \u0027gitlab\u0027 : \n          .... \n          use_custom_login_logo  \u003d\u003e true,\n          company_logo_url       \u003d\u003e \u0027http://placekitten.com/300/93\u0027,\n          use_company_link\t     \u003d\u003e  true,\n          company_link           \u003d\u003e \u0027[Learn more about CompanyName](http://icanhas.cheezburger.com/)\u0027,\n        }  \n        \n\n        \n        \n![logo](http://f.cl.ly/items/401M3R213a2H1Z220O07/Image%202013.10.10%2010%3A05%3A33%20AM.png)\n\n--------------------------------------------------------------------------------------\n\n###Thumbnail Icon\n\nTo change the thumbnail icon, place two .png files with the following names, into the following folder\n \n/home/git/company-logo-white.png  \n/home/git/company-logo-black.png     \n\n\n\n\n    class { \u0027gitlab\u0027 :\n        use_custom_thumbnail  \u003d\u003e true,\n    }\n\n![thumbnail](http://f.cl.ly/items/2l2L1t1u3X0n0s350Y1I/Image%202013.10.10%2010%3A31%3A54%20AM.png)\n\t  \ncompany-logo-white.png is used against the dark background themes  \ncompany-logo-black.png is used against the light background themes \n\n*The logos should be about 80px by 80px in size*  \n*The logos should be saved as a .png* \n\n**You will need to restart the gitlab server, and clear your browsers cache before**\n**the changes will be applied**\n\n\n###LDAP / AD \n\nAn example to integrate with Active Directory\n\n    class { \u0027gitlab\u0027 : \n        ......\n        ldap_enabled           \u003d\u003e true,\n        ldap_host              \u003d\u003e \u0027DC1.microsoft.com\u0027,\n        ldap_base              \u003d\u003e \u0027DC\u003dmicrosoft,DC\u003dcom\u0027,\n        ldap_port              \u003d\u003e \u0027636\u0027,\n        ldap_uid               \u003d\u003e \u0027sAMAccountName\u0027,      #LDAP \u003d \u0027uid\u0027, AD \u003d \u0027sAMAccountName\u0027\n        ldap_method            \u003d\u003e \u0027ssl\u0027,                 #either ssl or plain\n        ldap_bind_dn           \u003d\u003e \u0027CN\u003dfoo,CN\u003dusers,DC\u003dmicrosoft,DC\u003dcom\u0027,  \n        ldap_bind_password     \u003d\u003e \u0027bar\u0027,\n    }\n    \n**Users must have email addresses defined in AD to be able to login to gitlab!**\n\n\n### HTTPS (SSL)\n\nSimple example with no encryption (not recommended)  \n   \n    class { \u0027gitlab\u0027 :\n    ....\n      $gitlab_ssl             \u003d false\n    }\n\nSimple example with SSL and Self Signed Cert (not recommended for production)  \nNgnix will use the certificate and key located in :   \n\n  certificate \u003d /etc/ssl/certs/ssl-cert-snakeoil.pem\n  private key \u003d /etc/ssl/private/ssl-cert-snakeoil.key  \n  \n    class { \u0027gitlab\u0027 :\n    ....\n      $gitlab_ssl             \u003d true\n      $gitlab_ssl_self_signed \u003d true\n    }\n    \nSimple example with Certificate Authority signed Cert (Recommended)   \nYou will need to place your .pem file and your private key in a location accessible to nxinx\n \n    class { \u0027gitlab\u0027 : \n       $gitlab_ssl             \u003d false\n        $gitlab_ssl_cert        \u003d \u0027/home/git/foo/bar.pem\u0027  #Can be .pem or .crt\n        $gitlab_ssl_key         \u003d \u0027/home/git/foo/bar.key\u0027\n        $gitlab_ssl_self_signed \u003d false\n    }\n  \n\t  \n##Reference\n\nAll of the parameters that can be set\n\n  \n      #Gitlab server settings\n    $gitlab_branch         \t\t#Which branch to checkout from $gitlab_sources\n    $gitlabshell_branch     \t#Which branch to checkout from $gitlabshell_sources\n    $git_user               \t#Default is \u0027git\u0027, changing this is risky! \n    $git_home               \t#Default /home/git\n    $git_email              \t#The email address gitlab will send email from \n    $git_comment            \t#Arbitrary unix identifier, Default \u0027gitlab\u0027\n    $gitlab_sources         \t#git URL with gitlab source\n    $gitlabshell_sources    \t#git URL with gitlabshell source\n    \n      #Database\n    $gitlab_dbtype          \t#Only MySQL supported at the moment\n    $gitlab_dbname          \t#Name of the schma, Default \u0027gitlabhq_production\u0027\n    $gitlab_dbuser         \t\t#User with access to the schema, Default \u0027gitlab\u0027\n    $gitlab_dbpwd           \t#$gitlab_dbuser database password\n    $gitlab_dbhost         \t\t#Hostname of database server, Default \u0027localhost\u0027\n    $gitlab_dbport          \t#Default \u00273306\u0027\n    \n      #Web \u0026 Security\n    $gitlab_ssl             \t#Boolean if using SSL Default false\n    $gitlab_ssl_cert        \t#location of ssl certificate Default \u0027/etc/ssl/certs/ssl-cert-snakeoil.pem\u0027\n    $gitlab_ssl_key         \t#location of ssl key Default \u0027/etc/ssl/private/ssl-cert-snakeoil.key\u0027\n    $gitlab_ssl_self_signed \t#If cert is signed by CA or self signed, Default: false\n    $default_servername \t\t#Subdomain Default \u0027gitlab\u0027 Example \u0027gitlab.foo.com\u0027 \n    \n      #LDAP\n    $ldap_enabled \t\t\t\t#Default false          \n    $ldap_host              \t#URL of domain controller Default \u0027ldap.domain.com\u0027\n    $ldap_base           \t\t#base domain Default \u0027dc\u003ddomain,dc\u003dcom\u0027\n    $ldap_uid              \t\t#Unix \u003d \u0027uid\u0027 AD \u003d \u0027sAMAccountName\u0027\n    $ldap_port          \t\t#Default \u0027636\u0027\n    $ldap_method         \t\t#Default ssl\n    $ldap_bind_dn           \t#Address of the bind user Default \u0027\u0027\n    $ldap_bind_password     \t#Password of bind user\n    \n      #Company Branding\n    $use_custom_login_logo \t\t#Boolean, if landing page should use $company_logo_url Default: false\n    $company_logo_url       \t#URL that contains a logo, usually about 300 x 90 px\n    $use_custom_thumbnail  \t\t#Boolean, thumbnail icon are located in /home/git/\n    #use_company_link\t\t\t#Add arbitrary text under icon\n    #company_link\t\t\t\t#Markdown of any text Example: \u0027[Learn more about foo](http://failblog.cheezburger.com)\u0027\n    \n     #User default settings\n    $gitlab_gravatar        \t#Default: true\n    $user_create_group      \t#Default: false\n    $user_changename        \t#Default: false\n    \n      #Project default features\n    $project_issues         \t#Default: true\n    $project_merge_request  \t#Default: true\n    $project_wiki           \t#Default: true\n    $project_wall           \t#Default: false\n    $project_snippets       \t#Default: false\n    $gitlab_projects \t\t\t#Default: 10\n    $project_public_default     #Default: true\n\n\t  \n\t  \n##Limitations\n\nWill not work on CentOS / RHEL  (yet)\n\nModifying $git_user, and $git_home is untested and may have unintended side effects  \n\n\n###Support\n\nIssues page: https://github.com/spuder/puppet-gitlab/issues \n\n\n##Release Notes/Contributors/Etc \n\nThis module is based on the work done by the following people:  \n\nsbadia - https://github.com/sbadia/puppet-gitlab  \natomaka - https://github.com/atomaka/puppet-gitlab  \n\n##Changelog\n2013-Oct-3: 0.1.0 First Release, fully tested  \n2013-Oct-5: 0.2.0 Removes ruby repo from files, and instead downloads from web  \n2013-Oct-5: 0.2.1 Adds module dependencies   \n2013-Oct-7: 0.2.2 Fixes puppetlabs-mysql api change https://github.com/spuder/puppet-gitlab/issues/1  \n2013-Oct-9: 0.2.3 Changes puppetlabs-apt dependency from 1.3.0 to 1.0.0   \n2013-Oct-9: 0.2.4 Fixes backup issue when replacing thumbnail icons https://github.com/spuder/puppet-gitlab/issues/8   \n2013-Oct-10: 0.2.5 Fixes thumbnail issue  \n2013-Oct-10: 0.3.0 Adds HTTPS Support, Updates Readme with links  \n2013-Oct-18: 0.3.1 Fixes issue where the thumbnail icon would be overwritten https://github.com/spuder/puppet-gitlab/issues/14  \n2013-Oct-21: 1.0.0  Major Release\n\n- Rewrite of the ruby module, now uses puppetlabs-ruby instead of custom package https://github.com/spuder/puppet-gitlab/issues/5 \n- company_url now takes the entire markup instead of just the link. See gitlab.yml6-x-stable.erb \n- Removed unused parameters $gitlab_repodir, $gitlab_domain\n- Indentation \u0026 syntax changes to conform to puppet lint https://github.com/spuder/puppet-gitlab/issues/19\n- Increases security on database permissions https://github.com/spuder/puppet-gitlab/issues/16\n- Changes git user from disabled to locked https://github.com/spuder/puppet-gitlab/issues/9\n- Fixed issue where init script was modified as work around https://github.com/spuder/puppet-gitlab/issues/12\n- Removes dependency on wget module\n- Removes dependency on unused nginx module\n- Removes $user_create_team  as 6.x no longer has concept of teams\n- Adds http redirect in nginx, and other security improvements   \n  \n2013-Nov-1: 1.1.0 Adds new flag $default_servername, allows user to choose what subdomain gitlab is configured as in nginx\nInstead of gitlab.foo.com, user can now make the url git.foo.com or any other subdomain  \n2013-Nov-11: 1.1.1 Increases default gitlabshell from 1.7.1 to 1.7.4, default branch is now 6-2-stable  \n2013-Nov-14: 1.1.2 Increases default gitlabshell from 1.7.4 to 1.7.8, as a result of a security vulnerability",
  "dependencies": [
    {
      "name": "puppetlabs/apt",
      "version_requirement": "\u003e\u003d1.0.0"
    },
    {
      "name": "puppetlabs/stdlib",
      "version_requirement": "\u003e\u003d4.0.0"
    },
    {
      "name": "example42/postfix",
      "version_requirement": "\u003e\u003d2.0.0"
    },
    {
      "name": "puppetlabs/ruby",
      "version_requirement": "\u003e\u003d0.1.0"
    },
    {
      "name": "puppetlabs/mysql",
      "version_requirement": "\u003e\u003d2.0.0"
    }
  ],
  "types": [],
  "checksums": {},
  "source": "https://github.com/spuder/puppet-gitlab",
  "project_page": "https://github.com/spuder/puppet-gitlab/blob/master/README.md",
  "license": "GPLv3"
}