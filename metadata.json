{
    "name": "spuder-gitlab",
    "version": "2.0.3",
    "summary": "Installs and configures gitlab 7 using omnibus installer",
    "author": "spencer owen",
    "description": "# Gitlab 7.0  \n[![Build Status](https://travis-ci.org/spuder/puppet-gitlab.png)](https://travis-ci.org/spuder/puppet-gitlab)\n\nSource - [https://github.com/spuder/puppet-gitlab](https://github.com/spuder/puppet-gitlab)  \nForge  - [https://forge.puppetlabs.com/spuder/gitlab](https://forge.puppetlabs.com/spuder/gitlab)   \nChangelog - [https://github.com/spuder/puppet-gitlab/blob/master/CHANGELOG.md](https://github.com/spuder/puppet-gitlab/blob/master/CHANGELOG.md) \n\n\n\n##Overview\n\nInstalls Gitlab 7 using the [omnibus installer](https://about.gitlab.com/downloads/)\n\n**Version 2.x.x is a complete rewrite with many api breaking changes. \nSince it uses the omnibus installer, it is incompatible with the previous puppet module.**\n\nIf upgrading from Gitlab 6.x, it is recomended that you create a fresh install and [migrate the data.](https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/README.md)\n\n\n\n##Setup  \n\nSupported Versions:\n\n- puppet >= 3.0.0\n- facter >= 1.7.0\n\nModule Dependencies:\n\n- puppetlabs-stdlib >= 4.0.0\n\nSupported Operating Systems:\n\n- Cent 6.5\n- Debian 7.5\n- Ubuntu 12.04\n- Ubuntu 14.04\n\n\n\n##Usage\n\n\n###Get up and running quickly - (testing only)\n\nUse Vagrant to quickly spin up a non production, test vm. \n\n    $ vagrant up \n    $ vagrant ssh\n    $ sudo puppet apply -e \"class { gitlab : puppet_manage_config => true, gitlab_branch => '7.0.0', external_url => 'http://192.168.33.10', }\" --modulepath=/etc/puppet/modules --verbose\n\n192.168.33.10 is the default ip address in the [Vagrantfile](https://github.com/spuder/puppet-gitlab/blob/master/Vagrantfile).\n\n![gitlab-login](http://cl.ly/image/463I0m2z1H34/Safari.png)\n\n####Password\n\nThe default username and password are:\n\n    root\n    5iveL!fe\n\n####Download\n\nThis puppet module will automatically download the appropriate gitlab package based on `$gitlab_branch` and detected operatingsystem.  \nGitlab enterprise specific downloads are covered later in this readme.\n\n\nIf for whatever reason you don't want puppet to download the omnibus package automatically, \nyou could manually place it in `/var/tmp` instead. \n\n```\n$ ls /var/tmp\n/var/tmp/gitlab-7.0.0_omnibus-1.el6.x86_64.rpm\n/var/tmp/gitlab_7.0.0-omnibus-1_amd64.deb\n```\n\n\n##Parameters\n\n**There are over [100 configuration options](https://github.com/gitlabhq/gitlabhq/blob/master/config/gitlab.yml.example) in /etc/gitlab/gitlab.rb. This puppet module exposes nearly all of them as class paramters.**\n\n### [Parameter documentation](https://github.com/spuder/puppet-gitlab/blob/master/manifests/params.pp)\n\nMandatory parameters: \n\n    $gitlab_branch \n    $external_url\n\n All other parameters are optional. \n\n\n\n### Example Parameters\n\nBareBones (not recomended)\n\n```\nclass { 'gitlab' : \n  puppet_manage_config   => false,\n  gitlab_branch          => '7.0.0',\n  external_url           => 'http://foo.bar',\n}\n```\n\nBasic Example with https\n\n```\nclass { 'gitlab' : \n  puppet_manage_config   => true,\n  puppet_manage_backups  => true,\n  gitlab_branch          => '7.0.0',\n  external_url           => 'http://gitlab.example.com',\n  ssl_certificate        => '/etc/gitlab/ssl/gitlab.crt',\n  ssl_certificate_key    => '/etc/gitlab/ssl/gitlab.key',\n  redirect_http_to_https => true,\n  backup_keep_time       => 5184000, # In seconds, 5184000 = 60 days\n  gitlab_default_projects_limit => 100,\n}\n\n```\n\n\nLdap with Active Directory\n```\nclass { 'gitlab' : \n    puppet_manage_config              => true,\n    puppet_manage_backups             => true,\n    gitlab_branch                     => '7.0.0',\n    external_url                      => 'http://gitlab.example.com',\n    ldap_enabled                      => true,\n    ldap_host                         => 'foo.example.com',\n    ldap_base                         => 'DC=example,DC=com',\n    ldap_port                         => '636',\n    ldap_uid                          => 'sAMAccountName',\n    ldap_method                       => 'ssl',       \n    ldap_bind_dn                      => 'CN=foobar,CN=users,DC=example,DC=com', \n    ldap_password                     => 'foobar',    \n    gravatar_enabled                  => true,\n    gitlab_default_can_create_group   => false,\n    gitlab_username_changing_enabled  => false,\n    gitlab_signup_enabled             => false,\n    gitlab_default_projects_features_visibility_level => 'internal',\n}\n```\n\nMore examples can be found in the [tests directory](https://github.com/spuder/puppet-gitlab/blob/master/tests/). User submitted examples are welcome. \n\n## Configuration  \n \n\nThis puppet module manages the `/etc/gitlab/gitlab.rb` file and leverages omnibus to apply the configuration. Nearly all of the config options are available as puppet class parameters. \n  \nIf you would rather manage `/etc/gitlab/gitlab.rb` manually, set `$puppet_manage_config` to false\n```\nclass { 'gitlab' :\n  gitlab_branch           => '7.0.0',\n  external_url            => 'http://foo.bar',\n  puppet_manage_config    => false,\n}\n```\n[Manage /etc/gitlab/gitlab.rb manually](https://gitlab.com/gitlab-org/omnibus-gitlab/blob/master/README.md)\n\n\n\n###Enterprise\n\nThis puppet module supports gitlab enterprise installations. You can enable additional enterprise configuration options with the `$gitlab_release` parameter\n\n**Enterprise users must specify the secret download link and filename provided by gitlabhq.**\n\n**Example**  \n\n    class { 'gitlab' : \n      gitlab_branch   => '7.0.0',\n      gitlab_release  => 'enterprise',\n      gitlab_download_link => 'http://secret_url/ubuntu-12.04/gitlab_7.0.0-omnibus-1_amd64.deb'\n    }\n\n\n## Upgrade\n\nPuppet will always ensure that the latest version of the gitlab package is installed. \nTo upgrade:\n\n1. Verify a current backup is present. See [Offical Instructions](https://gitlab.com/gitlab-org/gitlab-ce/blob/master/doc/raketasks/backup_restore.md)\n2. Change the `gitlab_branch` parameter to the new version (e.g. 7.1.0 -> 7.2.0)\n3. Wait for next puppet run\n4. You may need to restart gitlab `sudo gitlab-ctl restart`\n\n*Note: Puppet can automatically manage backups if* `puppet_manage_backups => true`\n##Limitations\n\n1. Does not manage the firewall, run `lokkit -s https -s ssh` or edit iptables. \n2. If `puppet_manage_config = true` (the default setting), then /etc/gitlab/gitlab.rb is configured with an .erb template. Because of the way .erb templates work, lines are inserted at their actual line numbers of the template, not one after another. This results in a lot of empty lines in /etc/gitlab/gitlb.rb. \n3. Assumes that the release number is always 1 in the file name. eg. `gitlab_7.0.0-omnibus-1_amd64.deb`\n4. Omniauth and enterprise are not tested. Please submit a github issue if problems are found.\n5. Only supports omnibus provided nginx and postgres services. Apache and MySQL are not available. \n\n#### Contact  \ntwitter => [@spencer450](https://twitter.com/spencer450)   \ngithub  => [spuder](https://github.com/spuder)  \nlinkedin => [Spencer](http://www.linkedin.com/pub/spencer-owen/7/7a1/35/)  \nirc     => spuder  \n\n\n\n",
    "dependencies": [],
    "types": [],
    "checksums": {},
    "source": "https://github.com/spuder/puppet-gitlab",
    "project_page": "https://github.com/spuder/puppet-gitlab/blob/master/README.md",
    "license": "GPLv3",
    "operatingsystem_support": [
        {
            "operatingsystem": "RedHat",
            "operatingsystemrelease": [
                "6.5"
            ]
        },
        {
            "operatingsystem": "Ubuntu",
            "operatingsystemrelease": [
                "12.04",
                "14.04"
            ]
        },
        {
            "operatingsystem": "Debian",
            "operatingsystemrelease": [
                "7.5"
            ]
        }
    ]
}